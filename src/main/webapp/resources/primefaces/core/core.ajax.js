PrimeFaces.AB_MAPPING={s:"source",f:"formId",p:"process",u:"update",e:"event",a:"async",g:"global",d:"delay",t:"timeout",sc:"skipChildren",iau:"ignoreAutoUpdate",ps:"partialSubmit",psf:"partialSubmitFilter",rv:"resetValues",fi:"fragmentId",fu:"fragmentUpdate",pa:"params",onst:"onstart",oner:"onerror",onsu:"onsuccess",onco:"oncomplete"};PrimeFaces.ab=function(a,c){for(var b in a){if(!a.hasOwnProperty(b)){continue}if(this.AB_MAPPING[b]){a[this.AB_MAPPING[b]]=a[b];delete a[b]}}PrimeFaces.ajax.Request.handle(a,c)};PrimeFaces.ajax={VIEW_HEAD:"javax.faces.ViewHead",VIEW_BODY:"javax.faces.ViewBody",Utils:{loadStylesheets:function(b){for(var a=0;a<b.length;a++){$("head").append('<link type="text/css" rel="stylesheet" href="'+b[a]+'" />')}},loadScripts:function(b){var a=function(){var c=b.shift();if(c){PrimeFaces.getScript(c,a)}};a()},getContent:function(c){var b="";for(var a=0;a<c.childNodes.length;a++){b+=c.childNodes[a].nodeValue}return b},updateFormStateInput:function(b,g,h){var e=$.trim(g);var a=null;if(h&&h.pfSettings&&h.pfSettings.portletForms){a=$(h.pfSettings.portletForms)}else{a=$("form")}var j="";if(h&&h.pfArgs&&h.pfArgs.parameterNamespace){j=h.pfArgs.parameterNamespace}for(var d=0;d<a.length;d++){var c=a.eq(d);if(c.attr("method")==="post"){var f=c.children("input[name='"+j+b+"']");if(f.length>0){f.val(e)}else{c.append('<input type="hidden" name="'+j+b+'" value="'+e+'" autocomplete="off" />')}}}},updateHead:function(d){var b=$.ajaxSetup()["cache"];$.ajaxSetup()["cache"]=true;var a=new RegExp("<head[^>]*>","gi").exec(d)[0];var c=d.indexOf(a)+a.length;$("head").html(d.substring(c,d.lastIndexOf("</head>")));$.ajaxSetup()["cache"]=b},updateBody:function(b){var c=new RegExp("<body[^>]*>","gi").exec(b)[0];var a=b.indexOf(c)+c.length;$("body").html(b.substring(a,b.lastIndexOf("</body>")))},updateElement:function(d,b,c){if(d.indexOf(PrimeFaces.VIEW_STATE)!==-1){PrimeFaces.ajax.Utils.updateFormStateInput(PrimeFaces.VIEW_STATE,b,c)}else{if(d.indexOf(PrimeFaces.CLIENT_WINDOW)!==-1){PrimeFaces.ajax.Utils.updateFormStateInput(PrimeFaces.CLIENT_WINDOW,b,c)}else{if(d===PrimeFaces.VIEW_ROOT){var a=PrimeFaces.ajax.Utils;window.PrimeFaces=null;a.updateHead(b);a.updateBody(b)}else{if(d===PrimeFaces.ajax.VIEW_HEAD){PrimeFaces.ajax.Utils.updateHead(b)}else{if(d===PrimeFaces.ajax.VIEW_BODY){PrimeFaces.ajax.Utils.updateBody(b)}else{if(d===$("head")[0].id){PrimeFaces.ajax.Utils.updateHead(b)}else{$(PrimeFaces.escapeClientId(d)).replaceWith(b)}}}}}}}},Queue:{delays:{},requests:new Array(),xhrs:new Array(),offer:function(a){if(a.delay){var b=null,d=this,b=(typeof(a.source)==="string")?a.source:$(a.source).attr("id"),c=function(){return setTimeout(function(){d.requests.push(a);if(d.requests.length===1){PrimeFaces.ajax.Request.send(a)}},a.delay)};if(this.delays[b]){clearTimeout(this.delays[b].timeout);this.delays[b].timeout=c()}else{this.delays[b]={timeout:c()}}}else{this.requests.push(a);if(this.requests.length===1){PrimeFaces.ajax.Request.send(a)}}},poll:function(){if(this.isEmpty()){return null}var b=this.requests.shift(),a=this.peek();if(a){PrimeFaces.ajax.Request.send(a)}return b},peek:function(){if(this.isEmpty()){return null}return this.requests[0]},isEmpty:function(){return this.requests.length===0},addXHR:function(a){this.xhrs.push(a)},removeXHR:function(b){var a=$.inArray(b,this.xhrs);if(a>-1){this.xhrs.splice(a,1)}},abortAll:function(){for(var a=0;a<this.xhrs.length;a++){this.xhrs[a].abort()}this.xhrs=new Array();this.requests=new Array()}},Request:{handle:function(a,b){a.ext=b;if(PrimeFaces.settings.earlyPostParamEvaluation){a.earlyPostParams=PrimeFaces.ajax.Request.collectEarlyPostParams(a)}if(a.async){PrimeFaces.ajax.Request.send(a)}else{PrimeFaces.ajax.Queue.offer(a)}},collectEarlyPostParams:function(a){var b;var c;if(typeof(a.source)==="string"){c=$(PrimeFaces.escapeClientId(a.source))}else{c=$(a.source)}if(c.is(":input")&&c.is(":not(:button)")){b=[];b.push({name:c.attr("name"),value:c.is(":checkbox")?c.is(":checked"):c.val()})}else{b=c.find(":input").serializeArray();b=b.concat(c.find("input[type=checkbox]:not(:checked)").map(function(){var d=$(this);return{name:d.attr("name"),value:d.is(":checked")}}).get())}return b},send:function(e){PrimeFaces.debug("Initiating ajax request.");PrimeFaces.customFocus=false;var o=(e.global===true||e.global===undefined)?true:false,b=null,f=null;if(e.onstart){var u=e.onstart.call(this,e);if(u===false){PrimeFaces.debug("Ajax request cancelled by onstart callback.");if(!e.async){PrimeFaces.ajax.Queue.poll()}return false}}if(e.ext&&e.ext.onstart){e.ext.onstart.call(this,e)}if(o){$(document).trigger("pfAjaxStart")}if(typeof(e.source)==="string"){f=e.source}else{f=$(e.source).attr("id")}if(e.formId){b=PrimeFaces.expressions.SearchExpressionFacade.resolveComponentsAsSelector(e.formId)}else{b=$(PrimeFaces.escapeClientId(f)).closest("form");if(b.length===0){b=$("form").eq(0)}}PrimeFaces.debug("Form to post "+b.attr("id")+".");var v=b.attr("action"),t=b.children("input[name*='javax.faces.encodedURL']"),g=[];var n=null;if(t.length>0){n='form[action="'+v+'"]';v=t.val()}PrimeFaces.debug("URL to post "+v+".");var m=PrimeFaces.ajax.Request.extractParameterNamespace(b);PrimeFaces.ajax.Request.addParam(g,PrimeFaces.PARTIAL_REQUEST_PARAM,true,m);PrimeFaces.ajax.Request.addParam(g,PrimeFaces.PARTIAL_SOURCE_PARAM,f,m);if(e.resetValues){PrimeFaces.ajax.Request.addParam(g,PrimeFaces.RESET_VALUES_PARAM,true,m)}if(e.ignoreAutoUpdate){PrimeFaces.ajax.Request.addParam(g,PrimeFaces.IGNORE_AUTO_UPDATE_PARAM,true,m)}if(e.skipChildren===false){PrimeFaces.ajax.Request.addParam(g,PrimeFaces.SKIP_CHILDREN_PARAM,false,m)}var s=PrimeFaces.ajax.Request.resolveComponentsForAjaxCall(e,"process");if(e.fragmentId){s.push(e.fragmentId)}var a="@none";if(s.length>0){a=s.join(" ")}else{var j=PrimeFaces.ajax.Request.resolveComponentsForAjaxCall(e,"process");j=$.trim(j);if(j===""){a="@all"}}if(a!=="@none"){PrimeFaces.ajax.Request.addParam(g,PrimeFaces.PARTIAL_PROCESS_PARAM,a,m)}var d=PrimeFaces.ajax.Request.resolveComponentsForAjaxCall(e,"update");if(e.fragmentId&&e.fragmentUpdate){d.push(e.fragmentId)}if(d.length>0){PrimeFaces.ajax.Request.addParam(g,PrimeFaces.PARTIAL_UPDATE_PARAM,d.join(" "),m)}if(e.event){PrimeFaces.ajax.Request.addParam(g,PrimeFaces.BEHAVIOR_EVENT_PARAM,e.event,m);var l=e.event;if(e.event==="valueChange"){l="change"}else{if(e.event==="action"){l="click"}}PrimeFaces.ajax.Request.addParam(g,PrimeFaces.PARTIAL_EVENT_PARAM,l,m)}else{PrimeFaces.ajax.Request.addParam(g,f,f,m)}if(e.params){PrimeFaces.ajax.Request.addParams(g,e.params,m)}if(e.ext&&e.ext.params){PrimeFaces.ajax.Request.addParams(g,e.ext.params,m)}if(e.partialSubmit&&a.indexOf("@all")===-1){var p=false,h=e.partialSubmitFilter||":input";if(a.indexOf("@none")===-1){for(var q=0;q<s.length;q++){var k=$(PrimeFaces.escapeClientId(s[q]));var w=null;if(k.is("form")){w=k.serializeArray();p=true}else{if(k.is(":input")){w=k.serializeArray()}else{w=k.find(h).serializeArray()}}$.merge(g,w)}}if(!p){PrimeFaces.ajax.Request.addParamFromInput(g,PrimeFaces.VIEW_STATE,b,m);PrimeFaces.ajax.Request.addParamFromInput(g,PrimeFaces.CLIENT_WINDOW,b,m);PrimeFaces.ajax.Request.addParamFromInput(g,"dsPostWindowId",b,m);PrimeFaces.ajax.Request.addParamFromInput(g,"dspwid",b,m)}}else{$.merge(g,b.serializeArray())}if(PrimeFaces.settings.earlyPostParamEvaluation&&e.earlyPostParams){$.each(e.earlyPostParams,function(i,x){g=$.grep(g,function(z,y){if(z.name===x.name){return false}return true})});$.merge(g,e.earlyPostParams)}var c=$.param(g);PrimeFaces.debug("Post Data:"+c);var r={url:v,type:"POST",cache:false,dataType:"xml",data:c,portletForms:n,source:e.source,global:false,beforeSend:function(x,i){x.setRequestHeader("Faces-Request","partial/ajax");x.pfSettings=i;x.pfArgs={};if(o){$(document).trigger("pfAjaxSend",[x,this])}},error:function(y,i,x){if(e.onerror){e.onerror.call(this,y,i,x)}if(e.ext&&e.ext.onerror){e.ext.onerror.call(this,y,i,x)}if(o){$(document).trigger("pfAjaxError",[y,this,x])}PrimeFaces.error("Request return with error:"+i+".")},success:function(y,i,z){PrimeFaces.debug("Response received succesfully.");var x;if(e.onsuccess){x=e.onsuccess.call(this,y,i,z)}if(e.ext&&e.ext.onsuccess&&!x){x=e.ext.onsuccess.call(this,y,i,z)}if(o){$(document).trigger("pfAjaxSuccess",[z,this])}if(x){return}else{PrimeFaces.ajax.Response.handle(y,i,z)}PrimeFaces.debug("DOM is updated.")},complete:function(x,i){if(e.oncomplete){e.oncomplete.call(this,x,i,x.pfArgs)}if(e.ext&&e.ext.oncomplete){e.ext.oncomplete.call(this,x,i,x.pfArgs)}if(o){$(document).trigger("pfAjaxComplete",[x,this])}PrimeFaces.debug("Response completed.");PrimeFaces.ajax.Queue.removeXHR(x);if(!e.async){PrimeFaces.ajax.Queue.poll()}}};if(e.timeout){r.timeout=e.timeout}PrimeFaces.ajax.Queue.addXHR($.ajax(r))},resolveExpressionsForAjaxCall:function(a,b){var c="";if(a[b]){c+=a[b]}if(a.ext&&a.ext[b]){c+=" "+a.ext[b]}return c},resolveComponentsForAjaxCall:function(a,b){var c=PrimeFaces.ajax.Request.resolveExpressionsForAjaxCall(a,b);return PrimeFaces.expressions.SearchExpressionFacade.resolveComponents(c)},addParam:function(d,a,c,b){if(b||!a.indexOf(b)===0){d.push({name:b+a,value:c})}else{d.push({name:a,value:c})}},addParams:function(e,a,c){for(var b=0;b<a.length;b++){var d=a[b];if(c&&!d.name.indexOf(c)===0){d.name=c+d.name}e.push(d)}},addParamFromInput:function(f,b,c,e){var a=null;if(e){a=c.children("input[name*='"+b+"']")}else{a=c.children("input[name='"+b+"']")}if(a&&a.length>0){var d=a.val();PrimeFaces.ajax.Request.addParam(f,b,d,e)}},extractParameterNamespace:function(c){var a=c.children("input[name*='"+PrimeFaces.VIEW_STATE+"']");if(a&&a.length>0){var b=a[0].name;if(b.length>PrimeFaces.VIEW_STATE.length){return b.substring(0,b.indexOf(PrimeFaces.VIEW_STATE))}}return null}},Response:{handle:function(h,e,m,b){var n=h.getElementsByTagName("partial-response")[0];for(var g=0;g<n.childNodes.length;g++){var a=n.childNodes[g];switch(a.nodeName){case"redirect":PrimeFaces.ajax.ResponseProcessor.doRedirect(a);break;case"changes":var c=$(document.activeElement);var k=c.attr("id");var f;if(c.length>0&&c.is("input")&&$.isFunction($.fn.getSelection)){f=c.getSelection()}for(var d=0;d<a.childNodes.length;d++){var l=a.childNodes[d];switch(l.nodeName){case"update":PrimeFaces.ajax.ResponseProcessor.doUpdate(l,m,b);break;case"delete":PrimeFaces.ajax.ResponseProcessor.doDelete(l);break;case"insert":PrimeFaces.ajax.ResponseProcessor.doInsert(l);break;case"attributes":PrimeFaces.ajax.ResponseProcessor.doAttributes(l);break;case"eval":PrimeFaces.ajax.ResponseProcessor.doEval(l);break;case"extension":PrimeFaces.ajax.ResponseProcessor.doExtension(l,m);break}}PrimeFaces.ajax.Response.handleReFocus(k,f);PrimeFaces.ajax.Response.destroyDetachedWidgets();break;case"eval":PrimeFaces.ajax.ResponseProcessor.doEval(a);break;case"extension":PrimeFaces.ajax.ResponseProcessor.doExtension(a,m);break;case"error":PrimeFaces.ajax.ResponseProcessor.doError(a,m);break}}},handleReFocus:function(d,b){if(PrimeFaces.customFocus===false&&d&&d!==$(document.activeElement).attr("id")){var c=$(PrimeFaces.escapeClientId(d));var a=function(){c.focus();if(b&&b.start){c.setSelection(b.start,b.end)}};if(c.length){a();setTimeout(function(){if(!c.is(":focus")){a()}},50)}}PrimeFaces.customFocus=false},destroyDetachedWidgets:function(){for(var a=0;a<PrimeFaces.detachedWidgets.length;a++){var d=PrimeFaces.detachedWidgets[a];var b=PF(d);if(b){if(b.isDetached()){PrimeFaces.widgets[d]=null;b.destroy();try{delete b}catch(c){}}}}PrimeFaces.detachedWidgets=[]}},ResponseProcessor:{doRedirect:function(b){try{window.location.assign(b.getAttribute("url"))}catch(a){PrimeFaces.warn("Error redirecting to URL: "+b.getAttribute("url"))}},doUpdate:function(c,d,a){var e=c.getAttribute("id"),b=PrimeFaces.ajax.Utils.getContent(c);if(a&&a.widget&&a.widget.id===e){a.handle.call(a.widget,b)}else{PrimeFaces.ajax.Utils.updateElement(e,b,d)}},doEval:function(b){var a=b.textContent||b.innerText||b.text;$.globalEval(a)},doExtension:function(d,e){if(e){if(d.getAttribute("ln")==="primefaces"&&d.getAttribute("type")==="args"){var c=d.textContent||d.innerText||d.text;if(e.pfArgs){var b=$.parseJSON(c);for(var a in b){e.pfArgs[a]=b[a]}}else{e.pfArgs=$.parseJSON(c)}}}},doError:function(a,b){},doDelete:function(a){var b=a.getAttribute("id");$(PrimeFaces.escapeClientId(b)).remove()},doInsert:function(d){if(!d.childNodes){return false}for(var b=0;b<d.childNodes.length;b++){var a=d.childNodes[b];var f=a.getAttribute("id");var e=$(PrimeFaces.escapeClientId(f));var c=PrimeFaces.ajax.Utils.getContent(a);if(a.nodeName==="after"){$(c).insertAfter(e)}else{if(a.nodeName==="before"){$(c).insertBefore(e)}}}},doAttributes:function(c){if(!c.childNodes){return false}var g=c.getAttribute("id");var f=$(PrimeFaces.escapeClientId(g));for(var b=0;b<c.childNodes.length;b++){var d=c.childNodes[b];var a=d.getAttribute("name");var e=d.getAttribute("value");if(!a){return}if(!e||e===null){e=""}f.attr(a,e)}}},AjaxRequest:function(a,b){return PrimeFaces.ajax.Request.handle(a,b)}};