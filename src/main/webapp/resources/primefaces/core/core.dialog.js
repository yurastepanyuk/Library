PrimeFaces.dialog={};PrimeFaces.dialog.DialogHandler={openDialog:function(e){var g=this.findRootWindow(),j=e.sourceComponentId+"_dlg";if(g.document.getElementById(j)){return}var i=e.sourceComponentId.replace(/:/g,"_")+"_dlgwidget",d=$('<div id="'+j+'" class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-shadow ui-hidden-container ui-overlay-hidden" data-pfdlgcid="'+e.pfdlgcid+'" data-widgetvar="'+i+'"></div>').append('<div class="ui-dialog-titlebar ui-widget-header ui-helper-clearfix ui-corner-top"><span class="ui-dialog-title"></span></div>');var f=d.children(".ui-dialog-titlebar");if(e.options.closable!==false){f.append('<a class="ui-dialog-titlebar-icon ui-dialog-titlebar-close ui-corner-all" href="#" role="button"><span class="ui-icon ui-icon-closethick"></span></a>')}if(e.options.minimizable){f.append('<a class="ui-dialog-titlebar-icon ui-dialog-titlebar-minimize ui-corner-all" href="#" role="button"><span class="ui-icon ui-icon-minus"></span></a>')}if(e.options.maximizable){f.append('<a class="ui-dialog-titlebar-icon ui-dialog-titlebar-maximize ui-corner-all" href="#" role="button"><span class="ui-icon ui-icon-extlink"></span></a>')}d.append('<div class="ui-dialog-content ui-widget-content ui-df-content" style="height: auto;"><iframe style="border:0 none" frameborder="0"/></div>');d.appendTo(g.document.body);var c=d.find("iframe"),b=e.url.indexOf("?")===-1?"?":"&",a=e.url.indexOf("pfdlgcid")===-1?e.url+b+"pfdlgcid="+e.pfdlgcid:e.url,h=e.options.contentWidth||640;c.width(h);c.on("load",function(){var p=$(this),l=p.contents().find("title"),o=false;if(e.options.headerElement){var n=PrimeFaces.escapeClientId(e.options.headerElement),k=c.contents().find(n);if(k.length){l=k;o=true}}if(!p.data("initialized")){PrimeFaces.cw.call(g.PrimeFaces,"DynamicDialog",i,{id:j,position:"center",sourceComponentId:e.sourceComponentId,sourceWidgetVar:e.sourceWidgetVar,onHide:function(){var s=this,r=this.content.children("iframe");if(r.get(0).contentWindow.PrimeFaces){this.destroyIntervalId=setInterval(function(){if(r.get(0).contentWindow.PrimeFaces.ajax.Queue.isEmpty()){clearInterval(s.destroyIntervalId);r.attr("src","about:blank");s.jq.remove()}},10)}else{r.attr("src","about:blank");s.jq.remove()}g.PF[i]=undefined},modal:e.options.modal,resizable:e.options.resizable,hasIframe:true,draggable:e.options.draggable,width:e.options.width,height:e.options.height,minimizable:e.options.minimizable,maximizable:e.options.maximizable,headerElement:e.options.headerElement})}var q=g.PF(i).titlebar.children("span.ui-dialog-title");if(l.length>0){if(o){q.append(l);l.show()}else{q.text(l.text())}}c.data("initialized",true);g.PF(i).show();var m=null;if(e.options.contentHeight){m=e.options.contentHeight}else{m=p.get(0).contentWindow.document.body.scrollHeight+(PrimeFaces.env.browser.webkit?5:25)}p.css("height",m)}).attr("src",a)},closeDialog:function(cfg){var rootWindow=this.findRootWindow(),dlgs=$(rootWindow.document.body).children('div.ui-dialog[data-pfdlgcid="'+cfg.pfdlgcid+'"]').not("[data-queuedforremoval]"),dlgsLength=dlgs.length,dlg=dlgs.eq(dlgsLength-1),parentDlg=dlgsLength>1?dlgs.eq(dlgsLength-2):null,dlgWidget=rootWindow.PF(dlg.data("widgetvar")),sourceWidgetVar=dlgWidget.cfg.sourceWidgetVar,sourceComponentId=dlgWidget.cfg.sourceComponentId,dialogReturnBehavior=null,windowContext=null;dlg.attr("data-queuedforremoval",true);if(parentDlg){var parentDlgFrame=parentDlg.find("> .ui-dialog-content > iframe").get(0),windowContext=parentDlgFrame.contentWindow||parentDlgFrame;sourceWidget=windowContext.PF(sourceWidgetVar)}else{windowContext=rootWindow}if(sourceWidgetVar){var sourceWidget=windowContext.PF(sourceWidgetVar);dialogReturnBehavior=sourceWidget.cfg.behaviors?sourceWidget.cfg.behaviors.dialogReturn:null}else{if(sourceComponentId){var dialogReturnBehaviorStr=$(windowContext.document.getElementById(sourceComponentId)).data("dialogreturn");if(dialogReturnBehaviorStr){dialogReturnBehavior=windowContext.eval("(function(ext){this."+dialogReturnBehaviorStr+"})")}}}if(dialogReturnBehavior){var ext={params:[{name:sourceComponentId+"_pfdlgcid",value:cfg.pfdlgcid}]};dialogReturnBehavior.call(windowContext,ext)}dlgWidget.hide()},showMessageInDialog:function(b){if(!this.messageDialog){var a=$('<div id="primefacesmessagedlg" class="ui-message-dialog ui-dialog ui-widget ui-widget-content ui-corner-all ui-shadow ui-hidden-container"/>').append('<div class="ui-dialog-titlebar ui-widget-header ui-helper-clearfix ui-corner-top"><span class="ui-dialog-title"></span><a class="ui-dialog-titlebar-icon ui-dialog-titlebar-close ui-corner-all" href="#" role="button"><span class="ui-icon ui-icon-closethick"></span></a></div><div class="ui-dialog-content ui-widget-content" style="height: auto;"></div>').appendTo(document.body);PrimeFaces.cw("Dialog","primefacesmessagedialog",{id:"primefacesmessagedlg",modal:true,draggable:false,resizable:false,showEffect:"fade",hideEffect:"fade"});this.messageDialog=PF("primefacesmessagedialog");this.messageDialog.titleContainer=this.messageDialog.titlebar.children("span.ui-dialog-title")}this.messageDialog.titleContainer.text(b.summary);this.messageDialog.content.html("").append('<span class="ui-dialog-message ui-messages-'+b.severity.split(" ")[0].toLowerCase()+'-icon" />').append(b.detail);this.messageDialog.show()},confirm:function(a){if(PrimeFaces.confirmDialog){PrimeFaces.confirmSource=(typeof(a.source)==="string")?$(PrimeFaces.escapeClientId(a.source)):$(a.source);PrimeFaces.confirmDialog.showMessage(a)}else{PrimeFaces.warn("No global confirmation dialog available.")}},findRootWindow:function(){var a=window;while(a.frameElement){a=a.parent}return a}};