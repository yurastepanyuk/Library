PrimeFaces.widget.AutoComplete=PrimeFaces.widget.BaseWidget.extend({init:function(a){this._super(a);this.cfg.minLength=(this.cfg.minLength!==undefined)?this.cfg.minLength:1;this.cfg.delay=(this.cfg.delay!==undefined)?this.cfg.delay:300;this.inputContainer=this.jq.children(".ui-input-search");this.input=$(this.jqId+"_input");this.hinput=$(this.jqId+"_hinput");this.clearIcon=this.inputContainer.children(".ui-input-clear");this.cfg.pojo=(this.hinput.length===1);this.panel=this.jq.children(".ui-controlgroup");this.itemContainer=this.panel.children(".ui-controlgroup-controls");this.bindEvents();this.input.data(PrimeFaces.CLIENT_ID_DATA,this.id);this.hinput.data(PrimeFaces.CLIENT_ID_DATA,this.id)},bindEvents:function(){var a=this;this.input.on("keyup.autoComplete",function(c){var b=a.input.val();if(b.length===0){a.hide()}else{a.showClearIcon()}if(b.length>=a.cfg.minLength){if(a.timeout){clearTimeout(a.timeout)}a.timeout=setTimeout(function(){a.search(b)},a.cfg.delay)}});this.clearIcon.on("click.autoComplete",function(b){a.input.val("");a.hinput.val("");a.hide()})},bindDynamicEvents:function(){var a=this;this.items.on("click.autoComplete",function(c){var b=$(this),d=b.attr("data-item-value");a.input.val(b.attr("data-item-label")).focus();if(a.cfg.pojo){a.hinput.val(d)}a.fireItemSelectEvent(c,d);a.hide()})},search:function(c){if(c===undefined||c===null){return}var d=this,b={source:this.id,process:this.id,update:this.id,formId:this.cfg.formId,onsuccess:function(g,e,f){PrimeFaces.ajax.Response.handle(g,e,f,{widget:d,handle:function(h){this.itemContainer.html(h);this.showSuggestions()}});return true}};b.params=[{name:this.id+"_query",value:c}];if(this.hasBehavior("query")){var a=this.cfg.behaviors.query;a.call(this,b)}else{PrimeFaces.ajax.Request.handle(b)}},show:function(){this.panel.removeClass("ui-screen-hidden")},hide:function(){this.panel.addClass("ui-screen-hidden");this.hideClearIcon()},showSuggestions:function(){this.items=this.itemContainer.children(".ui-autocomplete-item");this.bindDynamicEvents();if(this.items.length){this.items.first().addClass("ui-first-child");this.items.last().addClass("ui-last-child");if(this.panel.is(":hidden")){this.show()}}else{if(this.cfg.emptyMessage){var a='<div class="ui-autocomplete-emptyMessage ui-widget">'+this.cfg.emptyMessage+"</div>";this.itemContainer.html(a)}else{this.hide()}}},fireItemSelectEvent:function(b,c){if(this.hasBehavior("itemSelect")){var a={params:[{name:this.id+"_itemSelect",value:c}]};this.cfg.behaviors.itemSelect.call(this,a)}},hasBehavior:function(a){if(this.cfg.behaviors){return this.cfg.behaviors[a]!==undefined}return false},showClearIcon:function(){this.clearIcon.removeClass("ui-input-clear-hidden")},hideClearIcon:function(){this.clearIcon.addClass("ui-input-clear-hidden")}});