PrimeFaces.widget.Paginator=PrimeFaces.widget.BaseWidget.extend({init:function(a){this.cfg=a;this.jq=$();var b=this;$.each(this.cfg.id,function(c,d){b.jq=b.jq.add($(PrimeFaces.escapeClientId(d)))});this.controlGroups=this.jq.find("> .ui-controlgroup > .ui-controlgroup-controls");this.pageLinks=this.controlGroups.children(".ui-paginator-page");this.firstLink=this.controlGroups.children(".ui-paginator-first");this.prevLink=this.controlGroups.children(".ui-paginator-prev");this.nextLink=this.controlGroups.children(".ui-paginator-next");this.endLink=this.controlGroups.children(".ui-paginator-last");this.cfg.rows=(this.cfg.rows===0)?this.cfg.rowCount:this.cfg.rows;this.cfg.pageCount=Math.ceil(this.cfg.rowCount/this.cfg.rows)||1;this.cfg.pageLinks=this.cfg.pageLinks||10;this.cfg.currentPageTemplate=this.cfg.currentPageTemplate||"({currentPage} of {totalPages})";this.bindEvents()},bindEvents:function(){var a=this;this.bindPageLinkEvents();this.firstLink.click(function(){PrimeFaces.clearSelection();if(!$(this).hasClass("ui-state-disabled")){a.setPage(0)}});this.prevLink.click(function(){PrimeFaces.clearSelection();if(!$(this).hasClass("ui-state-disabled")){a.setPage(a.cfg.page-1)}});this.nextLink.click(function(){PrimeFaces.clearSelection();if(!$(this).hasClass("ui-state-disabled")){a.setPage(a.cfg.page+1)}});this.endLink.click(function(){PrimeFaces.clearSelection();if(!$(this).hasClass("ui-state-disabled")){a.setPage(a.cfg.pageCount-1)}})},bindPageLinkEvents:function(){var a=this;this.pageLinks.on("click.paginator",function(c){var b=$(this);if(!b.hasClass("ui-state-disabled")&&!b.hasClass("ui-btn-active")){a.setPage(parseInt(b.text())-1)}})},updateUI:function(){if(this.cfg.page===0){this.disableElement(this.firstLink);this.disableElement(this.prevLink)}else{this.enableElement(this.firstLink);this.enableElement(this.prevLink)}if(this.cfg.page===(this.cfg.pageCount-1)){this.disableElement(this.nextLink);this.disableElement(this.endLink)}else{this.enableElement(this.nextLink);this.enableElement(this.endLink)}this.updatePageLinks()},updatePageLinks:function(){var g,a,f,c=0;this.cfg.pageCount=Math.ceil(this.cfg.rowCount/this.cfg.rows)||1;var e=Math.min(this.cfg.pageLinks,this.cfg.pageCount);g=Math.max(0,Math.ceil(this.cfg.page-((e)/2)));a=Math.min(this.cfg.pageCount-1,g+e-1);f=this.cfg.pageLinks-(a-g+1);g=Math.max(0,g-f);for(var d=g;d<=a;d++){var b="ui-paginator-page ui-btn";if(this.cfg.page===d){b+=" ui-btn-active"}this.pageLinks.eq(c).attr("class",b).text(d+1);this.pageLinks.eq(parseInt(c+(this.pageLinks.length/2))).attr("class",b).text(d+1);c++}},setPage:function(c,a){if(c>=0&&c<this.cfg.pageCount&&this.cfg.page!=c){var b={first:this.cfg.rows*c,rows:this.cfg.rows,page:c};if(a){this.cfg.page=c;this.updateUI()}else{this.cfg.paginate.call(this,b)}}},setTotalRecords:function(a){this.cfg.rowCount=a;this.cfg.pageCount=Math.ceil(a/this.cfg.rows)||1;this.cfg.page=0;this.updateUI()},getCurrentPage:function(){return this.cfg.page},getFirst:function(){return(this.cfg.rows*this.cfg.page)},getContainerHeight:function(c){var a=0;for(var b=0;b<this.jq.length;b++){a+=this.jq.eq(b).outerHeight(c)}return a},disableElement:function(a){a.removeClass("ui-state-hover ui-state-focus ui-state-active").addClass("ui-state-disabled").attr("tabindex",-1);a.removeClass("ui-state-hover ui-state-focus ui-state-active").addClass("ui-state-disabled").attr("tabindex",-1)},enableElement:function(a){a.removeClass("ui-state-disabled").attr("tabindex",0)}});