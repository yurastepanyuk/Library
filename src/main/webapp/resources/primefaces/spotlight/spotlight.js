PrimeFaces.widget.Spotlight=PrimeFaces.widget.BaseWidget.extend({init:function(a){this._super(a);this.target=PrimeFaces.expressions.SearchExpressionFacade.resolveComponentsAsSelector(this.cfg.target);this.eventsToBlock="focus."+this.id+" mousedown."+this.id+" mouseup."+this.id;if(!$(document.body).children(".ui-spotlight").length){this.createMasks()}if(this.cfg.active){this.show()}},createMasks:function(){var a=$(document.body);a.append('<div class="ui-widget-overlay ui-spotlight ui-spotlight-top ui-helper-hidden"></div><div class="ui-widget-overlay ui-spotlight ui-spotlight-bottom ui-helper-hidden"></div><div class="ui-widget-overlay ui-spotlight ui-spotlight-left ui-helper-hidden"></div><div class="ui-widget-overlay ui-spotlight ui-spotlight-right ui-helper-hidden"></div>')},show:function(){this.calculatePositions();$(document.body).children("div.ui-spotlight").show();this.bindEvents()},calculatePositions:function(){var c=$(document),b=$(document.body),e=this.target.offset();b.children("div.ui-spotlight-top").css({left:0,top:0,width:b.width(),height:e.top});var d=e.top+this.target.outerHeight();b.children("div.ui-spotlight-bottom").css({left:0,top:d,width:b.width(),height:c.height()-d});b.children("div.ui-spotlight-left").css({left:0,top:e.top,width:e.left,height:this.target.outerHeight()});var a=e.left+this.target.outerWidth();b.children("div.ui-spotlight-right").css({left:a,top:e.top,width:b.width()-a,height:this.target.outerHeight()})},bindEvents:function(){var a=this;this.target.data("zindex",this.target.zIndex()).css("z-index",++PrimeFaces.zindex);$(document).on("keydown."+this.id,function(d){var e=$(d.target);if(d.which===$.ui.keyCode.TAB){var c=a.target.find(":tabbable");if(c.length){var f=c.filter(":first"),b=c.filter(":last");if(e.is(document.body)){f.focus(1);d.preventDefault()}else{if(d.target===b[0]&&!d.shiftKey){f.focus(1);d.preventDefault()}else{if(d.target===f[0]&&d.shiftKey){b.focus(1);d.preventDefault()}}}}}else{if(!e.is(document.body)&&(e.zIndex()<a.target.zIndex())){d.preventDefault()}}}).on(this.eventsToBlock,function(b){if($(b.target).zIndex()<a.target.zIndex()){b.preventDefault()}});$(window).on("resize.spotlight",function(){a.calculatePositions()})},unbindEvents:function(){$(document).off(this.eventsToBlock).off("keydown."+this.id);$(window).off("resize.spotlight")},hide:function(){$(document.body).children(".ui-spotlight").hide();this.unbindEvents();this.target.css("z-index",this.target.zIndex())}});